(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{22:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),a=t(16),u=t.n(a),i=(t(22),t(17)),o=t(3),l=t(0),s=function(e){var n=Object(c.useState)(""),t=Object(o.a)(n,2),r=t[0],a=t[1],u=Object(c.useState)(""),i=Object(o.a)(u,2),s=i[0],d=i[1];return Object(l.jsxs)("form",{children:[Object(l.jsx)("div",{}),Object(l.jsxs)("div",{children:["name:",Object(l.jsx)("input",{value:r,onChange:function(e){a(e.target.value)}})]}),Object(l.jsxs)("div",{children:["number:",Object(l.jsx)("input",{value:s,onChange:function(e){d(e.target.value)}})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",onClick:function(n){var t={name:r,number:s};n.preventDefault(),e.parentCallback(t)},children:"add"})})]})},d=t(5),j=t.n(d),b="/api/persons",f=function(e){return j.a.post(b,e).then((function(e){return e.data}))},h=function(){return j.a.get(b).then((function(e){return e.data}))},O=function(e){return j.a.delete(b+"/".concat(e))},m=function(e,n){return j.a.put(b+"/".concat(e),n)},p=function(e){var n=e.people,t=e.handleDelete,c=n.map((function(e){return Object(l.jsxs)("li",{children:[e.name," , ",e.number,Object(l.jsx)("button",{onClick:function(){return n=e,void(window.confirm("Delete ".concat(n.name,"?"))&&O(n.id).then(t(n.id)));var n},children:"Delete"})]},e.name)}));return Object(l.jsx)("ul",{children:c})},v=function(e){var n=e.people,t=e.handleDelete,r=Object(c.useState)(""),a=Object(o.a)(r,2),u=a[0],i=a[1],s=n.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())}));return Object(l.jsxs)("div",{children:["search:",Object(l.jsx)("input",{value:u,onChange:function(e){i(e.target.value)}}),Object(l.jsx)(p,{people:s,handleDelete:t})]})},x=function(e){var n=e.message;return null===n?null:Object(l.jsx)("div",{className:"success",style:{color:"green",fontStyle:"italic",fontSize:20,backgroundColor:"lightgrey",borderStyle:"solid",borderRadius:5,padding:10,maxWidth:300},children:n})},g=function(){var e=Object(c.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(null),u=Object(o.a)(a,2),d=u[0],j=u[1],b=function(e,n){j("".concat(e," ").concat(n.name)),setTimeout((function(){j(null)}),2e3)},O=function(e){var n=Object(i.a)(t),c=t.find((function(n){return n.name===e.name}));c.number=e.number,m(c.id,c).then(r(n)).then(b("updated",c)).catch((function(e){b("Already deleted",c);var n=t.filter((function(e){return e.name!==c.name}));r(n)}))};return Object(c.useEffect)((function(){h().then((function(e){r(e)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(s,{parentCallback:function(e){t.some((function(n){return n.name===e.name}))?window.confirm("Replace ".concat(e.name,"'s number?"))&&O(e):f(e).then(r(t.concat(e))).then(b("Successfuly added",e))}}),Object(l.jsx)("h2",{children:"Numbers"}),Object(l.jsx)(v,{people:t,handleDelete:function(e){r(t.filter((function(n){return n.id!==e})))}}),Object(l.jsx)(x,{message:d})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,u=n.getTTFB;t(e),c(e),r(e),a(e),u(e)}))};u.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),C()}},[[42,1,2]]]);
//# sourceMappingURL=main.38a93a9b.chunk.js.map